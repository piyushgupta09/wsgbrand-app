{"version":3,"file":"js/7268.6061ba98.js","mappings":"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","sources":["webpack://wsgbrand-app-v1/./src/modules/vendor/pages/sales/DispatchesPage.vue","webpack://wsgbrand-app-v1/./src/components/DispatchFilters.vue","webpack://wsgbrand-app-v1/./src/components/DispatchFilters.vue?4d58","webpack://wsgbrand-app-v1/./src/modules/vendor/pages/sales/DispatchesPage.vue?6272"],"sourcesContent":["<template>\n    <div class=\"font-title\">\n        <DispatchFilters\n            title=\"Dispatched Orders\"\n            :parties=\"parties\"\n            :filters=\"filters\"\n            :statuses=\"statuses\"\n            @dispatch-filter-updated=\"handleFiltersChange\" \n        />\n        <ul class=\"list-group list-group-flush\" v-if=\"Object.keys(filteredDispatches).length\">\n            <li class=\"list-group-item p-0\" v-for=\"(dispatch, dispatchIndex) in filteredDispatches\" :key=\"dispatchIndex\">\n                <transition name=\"slide\" mode=\"out-in\">\n                    <DispatchCard :dispatch=\"dispatch\" />\n                </transition>\n            </li>\n            <DispatchDetails :dispatches=\"filteredDispatches\" />\n            <DispatchStockIn :dispatches=\"filteredDispatches\" />\n        </ul>\n        <EmptyList v-else title=\"No Dispatch Available\"></EmptyList>\n    </div>\n</template>\n  \n<script>\nimport Axios from '@/services/axios';\nimport EmptyList from '@/components/EmptyList.vue';\nimport DispatchCard from '@/components/DispatchCard.vue';\nimport DispatchFilters from '@/components/DispatchFilters.vue';\nimport DispatchDetails from '@/components/DispatchDetails.vue';\nimport DispatchStockIn from '@/components/DispatchStockIn.vue';\n\nexport default {\n    name: 'DispatchesPage',\n    components: {\n        DispatchCard,\n        EmptyList,\n        DispatchDetails,\n        DispatchFilters,\n        DispatchStockIn,\n    },\n    data() {\n        return {\n            page: 1,\n            isFetching: false,\n            dispatches: [],\n            \n            // Filter\n            filters: {\n                search: '',\n                selectedParty: '',\n                selectedStatus: 'pending',\n                sortBys: [\n                    { name: { on: 'Latest Dispatch', off: 'Oldest Dispatch' }, selected: true },\n                    { name: { on: 'Highest Quantity', off: 'Lowest Quantity' }, selected: false },\n                    { name: { on: 'Maximum Dispatch', off: 'Lowest Dispatch' }, selected: false },\n                ],\n            },\n        };\n    },\n    mounted() {\n        this.loadMore();\n        window.addEventListener('scroll', this.handleScroll);\n    },\n    unmounted() {\n        window.removeEventListener('scroll', this.handleScroll);\n    },\n    watch: {\n        parties: {\n            handler(newValue) {\n                if (newValue.length) {\n                    // Select the first party by default if userType is factory or vendor\n                    let userType = this.$store.getters['authy/getPrefix'];\n                    if (userType === 'factory' || userType === 'vendor') {\n                        this.selectedParty = newValue[0].sid; // Assuming 'selectedParty' is the correct data property\n                    }\n                }\n            },\n            immediate: true,\n        },\n        storeDispatches: {\n            handler(newValue) {\n                this.dispatches = newValue;\n                this.page = 1;\n            },\n            immediate: true,\n        },\n    },\n    computed: {\n        parties() {\n            if (this.dispatches && !this.dispatches.length) {\n                return [];\n                \n            }\n            const localDispatches = this.dispatches;\n            const uniquePartiesMap = {};\n            const uniqueParties = [];\n\n            if (localDispatches) {\n                localDispatches.forEach(dispatch => {\n                    // Use sid as the key in the map.\n                    const sid = dispatch.party.sid;\n                    // If this sid hasn't been added to uniqueParties, add it.\n                    if (!uniquePartiesMap[sid]) {\n                        uniqueParties.push(dispatch.party);\n                        uniquePartiesMap[sid] = true; // Mark this sid as added.\n                    }\n                });\n            }\n            \n            return uniqueParties;\n        },\n        statuses() {\n            return [\n                { text: 'Dispatched', value: 'pending' },\n                { text: 'Received', value: 'received' },\n            ];\n        },\n        pendingDispatch() {\n            return this.dispatches.filter(dispatch => dispatch.status === 'pending')\n        },\n        filteredDispatches() {\n            if (this.dispatches && !this.dispatches.length) {\n                return [];\n                \n            }\n            let dispatches = this.dispatches;\n\n            if (this.filters.search) {\n                const searchTerm = this.filters.search.toLowerCase();\n                dispatches = dispatches.filter((dispatch) => {\n                    const stockTags = dispatch.tags.split(',');\n                    return stockTags.some(tag => tag.toLowerCase().includes(searchTerm.trim()));\n                });\n            }\n            \n            if (this.filters.selectedParty) {\n                dispatches = dispatches.filter(dispatch => dispatch.party.sid === this.filters.selectedParty);\n            }\n\n            if (this.filters.selectedStatus) {\n                dispatches = dispatches.filter(dispatch => dispatch.status === this.filters.selectedStatus);\n            }\n\n            if (this.filters.sortBys[0].selected) {\n                dispatches = dispatches.sort((a, b) => new Date(b.created_at) - new Date(a.created_at));\n            }\n            \n            if (this.filters.sortBys[1].selected) {\n                dispatches = dispatches.sort((a, b) => b.quantity - a.quantity);\n            }\n            \n            if (this.filters.sortBys[2].selected) {\n                dispatches = dispatches.sort((a, b) => b.quantity - a.quantity);\n            }\n\n            return dispatches;\n        },\n        storeDispatches() {\n            return this.$store.getters['brandy/dispatches'];\n        },\n    },\n    methods: {\n        handleScroll() {\n            const { scrollTop, scrollHeight, clientHeight } = document.documentElement;\n            if (clientHeight + scrollTop >= scrollHeight - 5) { // Check if near bottom\n                this.loadMore();\n            }\n        },\n        loadMore() {\n            if (this.isFetching)\n                return;\n            this.isFetching = true;\n            \n            Axios.get(`dispatches?page=${this.page}`)\n                .then((response) => {\n                    if (response.data.status === 'ok') {\n                        this.dispatches = [...this.dispatches, ...response.data.data.data];\n                        this.page++;\n                        this.isFetching = false;\n                    }\n                    else if (response.data.status === 'error') {\n                        this.isFetching = false;\n                        alert(response.data.message);\n                    }\n                    else {\n                        this.isFetching = false;\n                        alert('Something went wrong! Please try again');\n                    }\n                }).catch((error) => {\n                    this.isFetching = false;\n                    console.log(error);\n                    alert('Something went wrong! Please try again');\n                });\n        },\n        handleFiltersChange(filters) {\n            this.filters = filters;\n        },\n    },\n}\n</script>\n  ","<template>\n    <div class=\"border-bottom bg-body-tertiary\">\n\n        <nav class=\"navbar navbar-expand py-1\">\n            <div class=\"navbar-collapse d-flex align-items-center\">\n                <div class=\"d-flex align-items-center\">\n                    <router-link class=\"btn\" :to=\"{ name: myDashboard }\">\n                        <i class=\"bi bi-chevron-left\"></i>\n                    </router-link>\n                    <h6 class=\"mb-0 ms-2\">{{ title }}</h6>\n                </div>\n                <ul class=\"navbar-nav ms-auto align-items-center\">\n                    <li class=\"nav-item\">\n                        <button class=\"btn fs-5 border-0\" data-bs-toggle=\"collapse\" data-bs-target=\"#offcanvasSearch\" aria-expanded=\"false\" aria-controls=\"offcanvasSearch\">\n                            <i class=\"bi bi-search\"></i>\n                        </button>\n                    </li>\n                    <li class=\"nav-item\">\n                        <button class=\"btn fs-5 border-0\" data-bs-toggle=\"collapse\" data-bs-target=\"#offcanvasFilter\" aria-expanded=\"false\" aria-controls=\"offcanvasFilter\">\n                            <i class=\"bi bi-funnel\"></i>\n                        </button>\n                    </li>\n                    <li class=\"nav-item\">\n                        <button class=\"btn fs-5 border-0\" data-bs-toggle=\"collapse\" data-bs-target=\"#offcanvasSortBy\" aria-expanded=\"false\" aria-controls=\"offcanvasSortBy\">\n                            <i class=\"bi bi-sort-up-alt\"></i>\n                        </button>\n                    </li>\n                    <li class=\"nav-item\">\n                        <button class=\"btn btn-outline-dark rounded-0 btn-sm px-1 py-0 ms-2\" @click=\"updatePerPage\">\n                            {{ perPage }}\n                        </button>\n                    </li>\n                </ul>\n            </div>\n        </nav>\n\n        <div class=\"collapse\" id=\"offcanvasSearch\">\n            <div class=\"form-floating mx-2 mb-2\">\n                <input v-model.lazy=\"search\" type=\"search\" class=\"form-control rounded-0\" placeholder=\"Search Stocks\" @change=\"emitFilters\" />\n                <label for=\"floatingInput\">Search by name or code</label>\n            </div>\n        </div>\n\n        <div class=\"collapse\" id=\"offcanvasFilter\">\n            <div class=\"card card-body\">\n\n                <select v-if=\"isBrand && parties && parties.length\" v-model=\"selectedParty\" class=\"form-select py-3 mb-3\" aria-label=\"Filter By Party\">\n                    <option value=\"\" selected disabled>Filter By Fabricator</option>\n                    <option v-for=\"(party, partyIndex) in parties\" :key=\"partyIndex\" :value=\"party.sid\">\n                        {{ party.name }}\n                    </option>\n                </select>\n\n                <p class=\"mb-2 fw-bold\">Filter by status</p>\n                <div class=\"d-flex w-100 border border-end-0\">\n                    <div class=\"flex-fill border-end\" v-for=\"(status, statusIndex) in statuses\" :key=\"statusIndex\">\n                        <input type=\"checkbox\" class=\"btn-check\" :id=\"'filterby' + getCheckboxId(statusIndex)\" autocomplete=\"off\"\n                            :value=\"status.value\"\n                            :checked=\"status.value === selectedStatus\"\n                            @change=\"updateSelectedStatus(status.value)\">\n                        <label class=\"btn btn-outline-dark rounded-0 border-0 w-100\" :for=\"'filterby' + getCheckboxId(statusIndex)\">\n                            {{ status.text }}\n                        </label><br>\n                    </div>\n                </div>\n\n\n            </div>\n        </div>\n\n        <div class=\"collapse\" id=\"offcanvasSortBy\">\n            <div class=\"card card-body\">\n\n                <!-- <div class=\"mb-3\"> -->\n                    <p class=\"mb-2 fw-bold\">Sort by</p>\n                    <div class=\"d-flex w-100 border border-end-0\">\n                        <div class=\"flex-fill border-end\" v-for=\"(sortBy, sortByIndex) in localSortBys\" :key=\"sortByIndex\">\n                            <input type=\"checkbox\" class=\"btn-check\" :id=\"'sortby' + getCheckboxId(sortByIndex)\" autocomplete=\"off\"\n                                :checked=\"sortBy.selected\"\n                                @change=\"updateSelectedSortBy(sortByIndex)\">\n                            <label class=\"btn btn-outline-dark rounded-0 border-0 w-100\" :for=\"'sortby' + getCheckboxId(sortByIndex)\">\n                                {{ sortBy.selected ? sortBy.name.on : sortBy.name.off }}\n                            </label><br>\n                        </div>\n                    </div>\n                <!-- </div> -->\n\n                <!-- <div class=\"btn-group w-100\">\n                    <button @click=\"resetFilters\" class=\"btn btn-outline-dark\">Reset</button>\n                    <button @click=\"applyFilters\" class=\"btn btn-dark\">Apply</button>\n                </div> -->\n\n            </div>\n        </div>\n\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'DispatchFilters',\n    emits: ['dispatch-filter-updated'],\n    props: {\n        title: {\n            type: String,\n            default: 'Products',\n        },\n        filters: {\n            type: Object,\n            default: () => ({}),\n        },\n        parties: {\n            type: Array,\n            default: () => [],\n        },\n        statuses: {\n            type: Array,\n            required: true,\n        },\n    },\n    data() {\n        return {\n            search: this.filters.search || '',\n            localSortBys: this.filters.sortBys ? [...this.filters.sortBys] : [],\n            selectedParty: this.filters.selectedParty || '',\n            selectedStatus: this.filters.selectedStatus || '',\n        }\n    },\n    methods: {\n        applyFilters() {\n            this.$emit('dispatch-filter-updated', {\n                search: this.search,\n                sortBys: this.localSortBys,\n                selectedParty: this.selectedParty,\n                selectedStatus: this.selectedStatus,\n            });\n        },\n        resetFilters() {\n            this.search = '';\n            this.localSortBys = [...this.filters.sortBys];\n            this.selectedParty = '';\n            this.selectedStatus = '';\n        },\n        emitFilters() {\n            this.applyFilters();\n        },\n        getCheckboxId(index) {\n            return `btn-check-outlined-${index}`;\n        },\n        updateSelectedStatus(value) {\n            this.selectedStatus = this.selectedStatus === value ? '' : value;\n            this.applyFilters();\n        },\n        updateSelectedSortBy(index) {\n            this.localSortBys[index].selected = !this.localSortBys[index].selected;\n            this.applyFilters();\n        },\n        capitalizeFirstLetter(string) {\n            return string.charAt(0).toUpperCase() + string.slice(1).toLowerCase();\n        }\n    },\n    computed: {\n        isBrand() {\n            return this.$store.getters['authy/getPrefix'] === 'brand';\n        },\n        myDashboard() {\n            const prefix = this.capitalizeFirstLetter(this.$store.getters['authy/getPrefix']);\n            return `${prefix}Dashboard`;\n        },\n    },\n}\n</script>\n","import { render } from \"./DispatchFilters.vue?vue&type=template&id=43b0faea\"\nimport script from \"./DispatchFilters.vue?vue&type=script&lang=js\"\nexport * from \"./DispatchFilters.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./DispatchesPage.vue?vue&type=template&id=2f71e33c\"\nimport script from \"./DispatchesPage.vue?vue&type=script&lang=js\"\nexport * from \"./DispatchesPage.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","key","_createElementBlock","_hoisted_1","_createVNode","_component_DispatchFilters","title","parties","$options","filters","$data","statuses","onDispatchFilterUpdated","handleFiltersChange","Object","keys","filteredDispatches","length","_hoisted_2","_Fragment","_renderList","dispatch","dispatchIndex","_Transition","name","mode","default","_withCtx","_component_DispatchCard","_","_component_DispatchDetails","dispatches","_component_DispatchStockIn","_createBlock","_component_EmptyList","_createElementVNode","_createStaticVNode","id","for","value","selected","disabled","_hoisted_3","_hoisted_4","_component_router_link","to","myDashboard","_hoisted_5","_hoisted_6","_toDisplayString","$props","_hoisted_7","_hoisted_8","_hoisted_11","onClick","_cache","args","_ctx","updatePerPage","perPage","_hoisted_12","_hoisted_13","$event","search","type","placeholder","onChange","emitFilters","lazy","_hoisted_14","_hoisted_15","_hoisted_16","isBrand","selectedParty","_hoisted_17","party","partyIndex","sid","_hoisted_18","_createCommentVNode","_hoisted_19","_hoisted_20","status","statusIndex","getCheckboxId","autocomplete","checked","selectedStatus","updateSelectedStatus","_hoisted_21","text","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","localSortBys","sortBy","sortByIndex","updateSelectedSortBy","_hoisted_28","on","off","_hoisted_29","_hoisted_30","emits","props","String","Array","required","data","this","sortBys","methods","applyFilters","$emit","resetFilters","index","capitalizeFirstLetter","string","charAt","toUpperCase","slice","toLowerCase","computed","$store","getters","prefix","__exports__","components","DispatchCard","EmptyList","DispatchDetails","DispatchFilters","DispatchStockIn","page","isFetching","mounted","loadMore","window","addEventListener","handleScroll","unmounted","removeEventListener","watch","handler","newValue","userType","immediate","storeDispatches","localDispatches","uniquePartiesMap","uniqueParties","forEach","push","pendingDispatch","filter","searchTerm","stockTags","tags","split","some","tag","includes","trim","sort","a","b","Date","created_at","quantity","scrollTop","scrollHeight","clientHeight","document","documentElement","Axios","get","then","response","alert","message","catch","error","console","log","render"],"sourceRoot":""}