"use strict";(self["webpackChunkwsgbrand_app_v1"]=self["webpackChunkwsgbrand_app_v1"]||[]).push([[794],{794:function(t,e,s){s.r(e),s.d(e,{default:function(){return yt}});var n=s(4108);const a={class:"overflow-scroll"};function o(t,e,s,o,r,i){const l=(0,n.E1)("pwa-install-modal"),c=(0,n.E1)("notification-permission-modal"),d=(0,n.E1)("BrandBanner"),u=(0,n.E1)("Footer");return(0,n.Wz)(),(0,n.An)("div",a,[(0,n.K2)(l),i.auth?((0,n.Wz)(),(0,n.Az)(c,{key:0})):(0,n.g1)("",!0),(0,n.K2)(d),(0,n.K2)(u)])}var r=s(9096),i=s(7764);const l=t=>((0,n.ED)("data-v-72105408"),t=t(),(0,n.ii)(),t),c={class:"position-relative bg-banner pb-5"},d={class:"d-flex flex-column justify-content-evenly align-items-center h-100"},u={class:"text-white text-center font-title"},b={class:"d-flex flex-column"},p={class:"d-flex justify-content-center mb-3 fs-2 font-title border-bottom pb-1 border-warning pe-4",style:{width:"fit-content"}},f=l((()=>(0,n.QD)("span",{class:"me-2 font-title"},"Hello,",-1))),h={class:"fw-bold font-title"},m={class:"fs-1 fw-bold font-title my-2"},g={class:"lh-1 fs-5"},w=l((()=>(0,n.QD)("div",{class:"text-center bg-white w-100 p-2 fw-bold font-ubuntu"}," Where quality and trust matters the most ",-1))),v=["src"],y={class:"position-absolute start-0 end-0 bottom-0 mb-5"},x={key:0,class:"d-flex flex-column text-bg-dark p-3 zi-1k"},D=l((()=>(0,n.QD)("p",{class:"mb-2 font-title"},"No role is assigned to your account. Please ask your brand manager to assign you role.",-1))),Q={class:"d-flex justify-content-between"},k={key:1,class:"d-flex flex-column align-items-center w-100 bg-dark font-title py-3 zi-1k"},I={key:0,class:"d-flex justify-content-evenly w-100"},P=l((()=>(0,n.QD)("span",{class:"font-title"},"Logout Session",-1))),A=[P],W=l((()=>(0,n.QD)("div",{class:"d-flex align-items-center"},[(0,n.QD)("span",{class:"fw-bold pe-2"},"Dashboard"),(0,n.QD)("i",{class:"bi bi-chevron-right ts-icon"})],-1))),j=[W],z={key:1,class:"d-flex justify-content-evenly w-100"},C=l((()=>(0,n.QD)("div",{class:"d-flex align-items-center text-danger"},[(0,n.QD)("i",{class:"bi bi-chevron-left ts-icon"}),(0,n.QD)("span",{class:"fw-bold ps-2"},"Create Account")],-1))),E=l((()=>(0,n.QD)("div",{class:"d-flex align-items-center"},[(0,n.QD)("span",{class:"fw-bold pe-2"},"Login Account"),(0,n.QD)("i",{class:"bi bi-chevron-right ts-icon"})],-1)));function S(t,e,s,a,o,l){const P=(0,n.E1)("router-link");return(0,n.Wz)(),(0,n.An)("div",c,[(0,n.QD)("div",d,[(0,n.QD)("div",u,[(0,n.QD)("div",b,[(0,n.QD)("div",p,[f,(0,n.QD)("span",h,(0,r.WA)(l.user.name),1)]),(0,n.QD)("span",m,"Welcome to "+(0,r.WA)(l.brandInfo.name),1),(0,n.QD)("span",g,(0,r.WA)(l.brandInfo.tagline),1)])]),w,(0,n.QD)("img",{src:l.brandInfo.brand,class:"w-100 mb-5",style:{filter:"brightness(0) invert()"}},null,8,v)]),(0,n.QD)("div",y,[o.alert?((0,n.Wz)(),(0,n.An)("div",x,[D,(0,n.QD)("div",Q,[(0,n.QD)("button",{class:"btn btn-sm btn-outline-light px-3",onClick:e[0]||(e[0]=t=>o.alert=!1)},"OK"),(0,n.QD)("button",{class:"btn btn-sm btn-danger px-2",onClick:e[1]||(e[1]=(...t)=>l.reloadUserData&&l.reloadUserData(...t))},"Try Again")])])):((0,n.Wz)(),(0,n.An)("div",k,[l.auth?((0,n.Wz)(),(0,n.An)("div",I,[(0,n.QD)("button",{type:"button",class:"btn rounded-0 border-danger text-white border-2",onClick:e[2]||(e[2]=(0,i.Y7)(((...t)=>l.logoutSession&&l.logoutSession(...t)),["stop"]))},A),(0,n.QD)("button",{type:"button",class:"btn rrounded-0 brand-btn-p border-2",onClick:e[3]||(e[3]=(0,i.Y7)(((...t)=>l.myDashboard&&l.myDashboard(...t)),["stop"]))},j)])):((0,n.Wz)(),(0,n.An)("div",z,[(0,n.K2)(P,{to:{name:"Register"},class:"btn rounded-0 border-danger border-2"},{default:(0,n.Ql)((()=>[C])),_:1}),(0,n.K2)(P,{to:{name:"Login"},class:"btn rounded-0 brand-btn-p border-2"},{default:(0,n.Ql)((()=>[E])),_:1})]))]))])])}s(3248);var _={name:"BrandBanner",data(){return{alert:!1}},computed:{auth(){return this.$store.getters["authy/isAuthenticated"]},user(){return this.$store.getters["authy/user"]},brandInfo(){return this.$store.getters["repo/info"]}},methods:{logoutSession(){this.$store.dispatch("authy/sendLogoutRequest")},reloadUserData(){this.$store.dispatch("authy/fetchUserProfile")},myDashboard(){switch(this.$store.getters["authy/getRole"]){case"owner-brand":case"manager-brand":case"order-manager-brand":case"store-manager-brand":case"account-manager-brand":this.$router.push({name:"BrandDashboard"});break;case"owner-vendor":case"manager-vendor":this.$router.push({name:"VendorDashboard"});break;case"owner-factory":case"manager-factory":this.$router.push({name:"FactoryDashboard"});break;default:this.alert=!0;break}}}},$=s(4100);const K=(0,$.c)(_,[["render",S],["__scopeId","data-v-72105408"]]);var B=K;const M={class:"font-title min-vh-100 d-flex flex-column"},H={class:"flex-fill d-flex flex-column justify-content-between p-3"},L={class:"flex-fill d-flex flex-column justify-content-center align-items-center h-100"},N=["src"],U={class:"fw-bold fs-4"},F=(0,n.QD)("span",{class:""},"Most trusted brand in Fast Fashion",-1),Y=(0,n.IL)('<div class="mb-3"><div class="d-flex flex-column justify-content-center align-items-center mb-2"><span class="text-bg-dark w-100 text-center p-2 fw-bold">Contact Us</span><span class="mt-2 text-center">support@wsgbrand.in</span><span class="mt-2 text-center">9999437620 or 9999437620</span><span class="mt-2 text-center">B-74, Okhla Phase-II,<br> New Delhi - 110020, Delhi, India</span></div></div><div class="mt-3"><div class="d-flex flex-column justify-content-center align-items-center mb-2"><span class="text-bg-dark w-100 text-center p-2 fw-bold">Follow Us</span><div class="d-flex justify-content-evenly align-items-center w-100 mt-2"><a href="https://www.facebook.com/wsgbrand" target="_blank" class="text-decoration-none text-dark"><i class="bi bi-facebook fs-3"></i></a><a href="https://www.instagram.com/wsgbrand/" target="_blank" class="text-decoration-none text-dark"><i class="bi bi-instagram fs-3"></i></a><a href="http://www.twitter.com/wsgbrand" target="_blank" class="text-decoration-none text-dark"><i class="bi bi-twitter fs-3"></i></a></div></div></div>',2),V={class:"text-bg-dark text-center py-2 d-flex flex-column"},q=(0,n.QD)("span",{class:"fw-bold ls-1 fs-5"},"WsgBrand.in",-1);function O(t,e,a,o,i,l){const c=(0,n.E1)("apan");return(0,n.Wz)(),(0,n.An)("div",M,[(0,n.QD)("div",H,[(0,n.QD)("div",L,[(0,n.QD)("img",{src:s(656),style:{width:"140px","object-fit":"contain",filter:"saturate(150%)"}},null,8,N),(0,n.QD)("span",U,(0,r.WA)(l.brandInfo.name),1),F]),Y]),(0,n.QD)("div",V,[q,(0,n.K2)(c,{class:"small"},{default:(0,n.Ql)((()=>[(0,n.mY)("Copyright Â© 2024 | All rights reserved")])),_:1})])])}var R={name:"FooterSection",computed:{brandInfo(){return this.$store.getters["repo/info"]}}};const T=(0,$.c)(R,[["render",O]]);var Z=T;const G={class:"modal-dialog modal-dialog-centered"},J={class:"modal-content border-0 shadow-lg mx-auto",style:{width:"350px"}},X={class:"modal-body font-title"},tt=(0,n.QD)("p",{class:"text-center fw-500"},[(0,n.mY)(" Get better user experience"),(0,n.QD)("br"),(0,n.mY)("with our brand new app. ")],-1),et={class:"d-flex justify-content-center"},st={class:"btn-group w-100"};function nt(t,e,s,a,o,i){return(0,n.Wz)(),(0,n.An)("div",{class:"modal fade show",style:(0,r.MN)("display:"+o.state),tabindex:"-1"},[(0,n.QD)("div",G,[(0,n.QD)("div",J,[(0,n.QD)("div",X,[tt,(0,n.QD)("div",et,[(0,n.QD)("div",st,[(0,n.QD)("button",{class:"btn btn-sm btn-outline-secondary fw-500 px-2",onClick:e[0]||(e[0]=(...t)=>i.cancel&&i.cancel(...t))},"I'll stay on web"),(0,n.QD)("button",{class:"btn btn-sm px-3 btn-success fw-bold",onClick:e[1]||(e[1]=(...t)=>i.accept&&i.accept(...t))},"Yes, Install Now")])])])])])],4)}var at={name:"PwaInstallModal",data(){return{deferredPrompt:null,state:"block"}},created(){window.addEventListener("beforeinstallprompt",this.handleInstallPrompt)},unmounted(){window.removeEventListener("beforeinstallprompt",this.handleInstallPrompt)},methods:{handleInstallPrompt(t){t.preventDefault(),this.deferredPrompt=t,this.state="block"},accept(){this.deferredPrompt.prompt(),this.deferredPrompt.userChoice.then((t=>{"accepted"===t.outcome?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt"),this.deferredPrompt=null,this.state="none"}))},cancel(){this.state="none"}}};const ot=(0,$.c)(at,[["render",nt]]);var rt=ot;const it={class:"modal-dialog modal-dialog-centered"},lt={class:"modal-content border-0 shadow-lg mx-auto",style:{width:"350px"}},ct={class:"modal-body font-title"},dt=(0,n.QD)("p",{class:"text-center fw-500"}," Always stay updated with app notifications turned on. ",-1),ut={class:"d-flex justify-content-center"},bt={class:"btn-group w-100"};function pt(t,e,s,a,o,i){return(0,n.Wz)(),(0,n.An)("div",{class:"modal fade show",style:(0,r.MN)("display:"+o.state),tabindex:"-1"},[(0,n.QD)("div",it,[(0,n.QD)("div",lt,[(0,n.QD)("div",ct,[dt,(0,n.QD)("div",ut,[(0,n.QD)("div",bt,[(0,n.QD)("button",{class:"btn btn-sm btn-outline-secondary fw-500",onClick:e[0]||(e[0]=(...t)=>i.cancel&&i.cancel(...t))},"I'll check manually"),(0,n.QD)("button",{class:"btn btn-sm px-3 btn-success fw-bold",onClick:e[1]||(e[1]=(...t)=>i.accept&&i.accept(...t))},"Yes, send updates")])])])])])],4)}var ft=s(2964);ft.c.defaults.withCredentials=!0,ft.c.defaults.headers.post.Accept="application/json",ft.c.defaults.headers.post.ContentType="application/json";var ht={name:"NotificationPermissionModal",data(){return{state:"block"}},mounted(){const t=localStorage.getItem("notificationPermission");this.state="denied"===t||"accepted"===t?"none":"block"},methods:{cancel(){this.state="none",localStorage.setItem("notificationPermission","denied")},accept(){"serviceWorker"in navigator&&"PushManager"in window?navigator.serviceWorker.ready.then((t=>{const e={userVisibleOnly:!0,applicationServerKey:"BHZs-VmaHw-q81oM83ZfFkTb5jtkUCE7z0D8UNeifrDg4nshzW4e6qHfH0wnKhd_icViwN1-SrozVhEas3xa158"};return t.pushManager.subscribe(e)})).then((t=>{this.storePushSubscription(t)})).catch((t=>{console.error("Error subscribing for notifications:",t)})):console.warn("Push notifications are not supported in this browser.")},storePushSubscription(t){const e=t.toJSON(),{endpoint:s,keys:n}=e,a=(PushManager.supportedContentEncodings||["aesgcm"])[0];localStorage.setItem("p256dhKey",n.p256dh),localStorage.setItem("authKey",n.auth),localStorage.setItem("endpoint",s);const o=localStorage.getItem("token"),r={endpoint:s,AuthKeys:{auth:n.auth,p256dh:n.p256dh},contentEncoding:a},i={headers:{Authorization:`Bearer ${o}`}};ft.c.post("https://server.wsgbrand.in/api/subscribe",r,i).then((()=>{this.state="none",localStorage.setItem("notificationPermission","accepted")})).catch((t=>{console.error("error sending data",t)}))}}};const mt=(0,$.c)(ht,[["render",pt]]);var gt=mt,wt={name:"HomePage",components:{BrandBanner:B,Footer:Z,PwaInstallModal:rt,NotificationPermissionModal:gt},mounted(){window.addEventListener("resize",this.adjustHeight()),window.addEventListener("load",this.adjustHeight())},computed:{auth(){return this.$store.getters["authy/isAuthenticated"]}},methods:{adjustHeight(){let t=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${t}px`)},handleLocationFetched(t){console.log("Received user location:",t)}}};const vt=(0,$.c)(wt,[["render",o],["__scopeId","data-v-3e245007"]]);var yt=vt}}]);
//# sourceMappingURL=794.b4ed4dcf.js.map