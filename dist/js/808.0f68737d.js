"use strict";(self["webpackChunkwsgbrand_app_v1"]=self["webpackChunkwsgbrand_app_v1"]||[]).push([[808],{5500:function(t,e,o){o.d(e,{c:function(){return u}});var n=o(4108),s=o(9096);const r={key:0},a={class:"text-danger small mb-3 pulse"},i=(0,n.QD)("i",{class:"bi bi-exclamation-triangle text-inherit mx-2"},null,-1);function d(t,e,o,d,l,c){return c.errors?((0,n.Wz)(),(0,n.An)("div",r,[(0,n.QD)("div",a,[((0,n.Wz)(!0),(0,n.An)(n.ae,null,(0,n.mi)(c.errors,((t,e)=>((0,n.Wz)(),(0,n.An)("p",{key:e,class:"mb-1"},[i,((0,n.Wz)(!0),(0,n.An)(n.ae,null,(0,n.mi)(t,((t,e)=>((0,n.Wz)(),(0,n.An)("span",{key:e,class:"me-2"},(0,s.WA)(t)+".",1)))),128))])))),128))])])):(0,n.g1)("",!0)}var l={name:"FormErrors",computed:{errors(){const t=this.$store.getters.errors;return!!(t&&Object.keys(t).length>0)&&t}}},c=o(4100);const p=(0,c.c)(l,[["render",d]]);var u=p},7808:function(t,e,o){o.r(e),o.d(e,{default:function(){return x}});var n=o(4108),s=o(7764),r=o(9096);const a={class:"card border-0 shadow mx-auto text-center font-title"},i={class:"card-body p-4"},d=(0,n.QD)("p",{class:"fs-5 fw-500 text-muted"},"Login to your account",-1),l={class:"mb-3"},c={class:"form-floating mb-3"},p=(0,n.QD)("label",{for:"inputUsername"},"Mobile no.",-1),u={key:0,class:"form-floating mb-3"},m=(0,n.QD)("label",{for:"inputPassword"},"Enter Password",-1),f={key:1,class:"input-group mb-3"},g={key:0,class:"mb-2 mt-2n"},h=["autofocus"];function b(t,e,o,b,w,y){const k=(0,n.E1)("FormErrors"),v=(0,n.E1)("loading-button");return(0,n.Wz)(),(0,n.An)("div",a,[(0,n.QD)("div",i,[d,(0,n.K2)(k),(0,n.QD)("div",l,[(0,n.QD)("div",c,[(0,n.wt)((0,n.QD)("input",{type:"text",id:"inputUsername",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=t=>w.form.username=t),placeholder:"name@example.com"},null,512),[[s.Og,w.form.username]]),p]),w.loginViaOtp?(0,n.g1)("",!0):((0,n.Wz)(),(0,n.An)("div",u,[(0,n.wt)((0,n.QD)("input",{type:"password",id:"inputPassword",class:"form-control",placeholder:"Password","onUpdate:modelValue":e[1]||(e[1]=t=>w.form.password=t)},null,512),[[s.Og,w.form.password]]),m])),w.loginViaOtp?((0,n.Wz)(),(0,n.An)("div",f,[w.otpSent?(0,n.g1)("",!0):((0,n.Wz)(),(0,n.An)("div",g,"Click the button below to get an otp")),w.otpSent?(0,n.g1)("",!0):((0,n.Wz)(),(0,n.Az)(v,{key:1,styles:"brand-btn-p rounded w-100 fw-500",onBtnClicked:y.sendOtpCode},{default:(0,n.Ql)((()=>[(0,n.mY)("Send OTP")])),_:1},8,["onBtnClicked"])),(0,n.wt)((0,n.QD)("input",{class:(0,r.WN)([{"d-none":!w.otpSent},"form-control"]),autofocus:w.otpSent,type:"text",id:"inputOtpCode",placeholder:"Enter OTP Code","onUpdate:modelValue":e[2]||(e[2]=t=>w.form.otpcode=t)},null,10,h),[[s.Og,w.form.otpcode]]),w.otpSent?((0,n.Wz)(),(0,n.An)("button",{key:2,class:"brand-btn-s fw-500 input-group-text br-end",onBtnClicked:e[3]||(e[3]=(...t)=>y.sendOtpCode&&y.sendOtpCode(...t))},"ReSend Otp",32)):(0,n.g1)("",!0),w.otpSent?((0,n.Wz)(),(0,n.Az)(v,{key:3,styles:"brand-btn-p rounded w-100 mt-3 fw-bold",onBtnClicked:y.loginAccount},{default:(0,n.Ql)((()=>[(0,n.mY)("Login Now")])),_:1},8,["onBtnClicked"])):(0,n.g1)("",!0)])):((0,n.Wz)(),(0,n.Az)(v,{key:2,styles:"brand-btn-p rounded w-100 fw-bold",onBtnClicked:y.loginAccount},{default:(0,n.Ql)((()=>[(0,n.mY)("Login Now")])),_:1},8,["onBtnClicked"]))])])])}var w=o(5500);const y=["disabled"],k={key:0,class:"spinner-border spinner-border-sm mx-2",role:"status","aria-hidden":"true"};function v(t,e,o,s,a,i){return(0,n.Wz)(),(0,n.An)("button",{type:"button",class:(0,r.WN)(["d-flex justify-content-center align-items-center btn",o.styles]),disabled:i.isLoading,onClick:e[0]||(e[0]=(...t)=>i.emitClickEvent&&i.emitClickEvent(...t))},[i.isLoading?((0,n.Wz)(),(0,n.An)("span",k)):(0,n.g1)("",!0),(0,n.oF)(t.$slots,"default")],10,y)}var A={name:"LoadingButton",props:{styles:{type:String,default:"button"}},computed:{isLoading(){return this.$store.getters.loading}},methods:{emitClickEvent(){this.$emit("btn-clicked")}}},C=o(4100);const z=(0,C.c)(A,[["render",v]]);var O=z,W={name:"LoginAccount",components:{FormErrors:w.c,LoadingButton:O},data(){return{loginViaOtp:!1,otpSent:!1,form:{device:navigator.userAgent,username:"",password:"",otpcode:""}}},watch:{loginViaOtp(){this.otpSent=!1,this.form.otpcode="",this.form.password=""}},methods:{loginAccount(){if(""===this.form.username)this.$store.dispatch("setToast",{type:"error",message:"Please enter email id."});else{if(this.loginViaOtp)""===this.form.otpcode&&this.$store.dispatch("setToast",{type:"error",message:"Please enter otp code"});else if(""===this.form.password)return void this.$store.dispatch("setToast",{type:"error",message:"Please enter password"});this.$store.dispatch("authy/sendLoginRequest",this.form)}},sendOtpCode(){""===this.form.username?this.$store.dispatch("setToast",{type:"error",message:"Please enter email id."}):this.$store.dispatch("authy/sendloginViaOtpCode",this.form).then((()=>{this.otpSent=!0}))},loginAs(t){this.form.password="password",this.form.username=t+"@gmail.com",this.loginAccount()}}};const Q=(0,C.c)(W,[["render",b]]);var x=Q}}]);
//# sourceMappingURL=808.0f68737d.js.map