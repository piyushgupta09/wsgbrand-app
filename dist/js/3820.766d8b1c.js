"use strict";(self["webpackChunkwsgbrand_app_v1"]=self["webpackChunkwsgbrand_app_v1"]||[]).push([[3820],{3820:function(t,e,s){s.r(e),s.d(e,{default:function(){return wt}});var n=s(4108);const a={class:"overflow-scroll"};function o(t,e,s,o,r,i){const l=(0,n.E1)("pwa-install-modal"),c=(0,n.E1)("notification-permission-modal"),d=(0,n.E1)("BrandBanner"),u=(0,n.E1)("Footer");return(0,n.Wz)(),(0,n.An)("div",a,[(0,n.K2)(l),i.auth?((0,n.Wz)(),(0,n.Az)(c,{key:0})):(0,n.g1)("",!0),(0,n.K2)(d),(0,n.K2)(u)])}var r=s(9096),i=s(7764);const l=t=>((0,n.ED)("data-v-cfacb98a"),t=t(),(0,n.ii)(),t),c={class:"position-relative bg-banner pb-5"},d={class:"d-flex flex-column justify-content-evenly align-items-center h-100"},u={class:"display-3 text-white text-center font-title"},b={class:"d-flex flex-column"},h=l((()=>(0,n.QD)("span",{class:"lh-1"},"Welcome to",-1))),p={class:"lh-1 my-3 display-1 ls-1 fw-bold font-text ts-1 text-warning"},f={class:"lh-1 fs-4 fw-500"},m=l((()=>(0,n.QD)("div",{class:"text-center bg-white w-100 p-2 fw-bold font-ubuntu"}," Where quality and trust matters the most ",-1))),g=["src"],w={class:"position-absolute start-0 end-0 bottom-0 mb-5"},v={key:0,class:"d-flex flex-column text-bg-dark p-3 zi-1k"},x=l((()=>(0,n.QD)("p",{class:"mb-2 font-title"},"No role is assigned to your account. Please ask your brand manager to assign you role.",-1))),y={class:"d-flex justify-content-between"},D={key:1,class:"d-flex flex-column align-items-center w-100 bg-dark font-title py-3 zi-1k"},Q={key:0,class:"d-flex justify-content-evenly w-100"},k=l((()=>(0,n.QD)("span",{class:"font-title"},"Logout Session",-1))),I=[k],P=l((()=>(0,n.QD)("div",{class:"d-flex align-items-center"},[(0,n.QD)("span",{class:"fw-bold pe-2"},"Dashboard"),(0,n.QD)("i",{class:"bi bi-chevron-right ts-icon"})],-1))),A=[P],j={key:1,class:"d-flex justify-content-evenly w-100"},z=l((()=>(0,n.QD)("div",{class:"d-flex align-items-center text-danger"},[(0,n.QD)("i",{class:"bi bi-chevron-left ts-icon"}),(0,n.QD)("span",{class:"fw-bold ps-2"},"Create Account")],-1))),C=l((()=>(0,n.QD)("div",{class:"d-flex align-items-center"},[(0,n.QD)("span",{class:"fw-bold pe-2"},"Login Account"),(0,n.QD)("i",{class:"bi bi-chevron-right ts-icon"})],-1)));function E(t,e,s,a,o,l){const k=(0,n.E1)("router-link");return(0,n.Wz)(),(0,n.An)("div",c,[(0,n.QD)("div",d,[(0,n.QD)("div",u,[(0,n.QD)("div",b,[h,(0,n.QD)("span",p,(0,r.WA)(l.brandInfo.name),1),(0,n.QD)("span",f,(0,r.WA)(l.brandInfo.tagline),1)])]),m,(0,n.QD)("img",{src:l.brandInfo.brand,class:"w-100 mb-5",style:{filter:"brightness(0) invert()"}},null,8,g)]),(0,n.QD)("div",w,[o.alert?((0,n.Wz)(),(0,n.An)("div",v,[x,(0,n.QD)("div",y,[(0,n.QD)("button",{class:"btn btn-sm btn-outline-light px-3",onClick:e[0]||(e[0]=t=>o.alert=!1)},"OK"),(0,n.QD)("button",{class:"btn btn-sm btn-danger px-2",onClick:e[1]||(e[1]=(...t)=>l.reloadUserData&&l.reloadUserData(...t))},"Try Again")])])):((0,n.Wz)(),(0,n.An)("div",D,[l.auth?((0,n.Wz)(),(0,n.An)("div",Q,[(0,n.QD)("button",{type:"button",class:"btn rounded-0 border-danger text-white border-2",onClick:e[2]||(e[2]=(0,i.Y7)(((...t)=>l.logoutSession&&l.logoutSession(...t)),["stop"]))},I),(0,n.QD)("button",{type:"button",class:"btn rrounded-0 brand-btn-p border-2",onClick:e[3]||(e[3]=(0,i.Y7)(((...t)=>l.myDashboard&&l.myDashboard(...t)),["stop"]))},A)])):((0,n.Wz)(),(0,n.An)("div",j,[(0,n.K2)(k,{to:{name:"Register"},class:"btn rounded-0 border-danger border-2"},{default:(0,n.Ql)((()=>[z])),_:1}),(0,n.K2)(k,{to:{name:"Login"},class:"btn rounded-0 brand-btn-p border-2"},{default:(0,n.Ql)((()=>[C])),_:1})]))]))])])}s(3248);var S={name:"BrandBanner",data(){return{alert:!1}},computed:{auth(){return this.$store.getters["authy/isAuthenticated"]},brandInfo(){return this.$store.getters["repo/info"]}},methods:{logoutSession(){this.$store.dispatch("authy/sendLogoutRequest")},reloadUserData(){this.$store.dispatch("authy/fetchUserProfile")},myDashboard(){switch(this.$store.getters["authy/getRole"]){case"owner-brand":case"manager-brand":case"order-manager-brand":case"store-manager-brand":case"account-manager-brand":this.$router.push({name:"BrandDashboard"});break;case"owner-vendor":case"manager-vendor":this.$router.push({name:"VendorDashboard"});break;case"owner-factory":case"manager-factory":this.$router.push({name:"FactoryDashboard"});break;default:this.alert=!0;break}}}},W=s(4100);const _=(0,W.c)(S,[["render",E],["__scopeId","data-v-cfacb98a"]]);var M=_;const K={class:"font-title min-vh-100 d-flex flex-column"},F={class:"flex-fill d-flex flex-column justify-content-between p-3"},$={class:"flex-fill d-flex flex-column justify-content-center align-items-center h-100"},B=["src"],L=(0,n.QD)("span",{class:"fw-bold fs-4"},"Metro Fashion",-1),N=(0,n.QD)("span",{class:""},"Most trusted brand in Fast Fashion",-1),U=(0,n.IL)('<div class="mb-3"><div class="d-flex flex-column justify-content-center align-items-center mb-2"><span class="text-bg-dark w-100 text-center p-2 fw-bold">Contact Us</span><span class="mt-2 text-center">support@desigal.in</span><span class="mt-2 text-center">9999786993 or 9555924440</span><span class="mt-2 text-center">B-74, Okhla Phase-II,<br> New Delhi - 110020, Delhi, India</span></div></div><div class="mt-3"><div class="d-flex flex-column justify-content-center align-items-center mb-2"><span class="text-bg-dark w-100 text-center p-2 fw-bold">Follow Us</span><div class="d-flex justify-content-evenly align-items-center w-100 mt-2"><a href="https://www.facebook.com/metrofashion.in" target="_blank" class="text-decoration-none text-dark"><i class="bi bi-facebook fs-3"></i></a><a href="https://www.instagram.com/metrofashion.in/" target="_blank" class="text-decoration-none text-dark"><i class="bi bi-instagram fs-3"></i></a><a href="http://www.twitter.com/metrofashionin" target="_blank" class="text-decoration-none text-dark"><i class="bi bi-twitter fs-3"></i></a></div></div></div>',2),H={class:"text-bg-dark text-center py-2 d-flex flex-column"},Y=(0,n.QD)("span",{class:"fw-bold ls-1 fs-5"},"Metro Fashion",-1);function V(t,e,a,o,r,i){const l=(0,n.E1)("apan");return(0,n.Wz)(),(0,n.An)("div",K,[(0,n.QD)("div",F,[(0,n.QD)("div",$,[(0,n.QD)("img",{src:s(656),style:{width:"140px","object-fit":"contain",filter:"saturate(450%)"}},null,8,B),L,N]),U]),(0,n.QD)("div",H,[Y,(0,n.K2)(l,{class:"small"},{default:(0,n.Ql)((()=>[(0,n.mY)("Copyright Â© 2024 | All rights reserved")])),_:1})])])}var q={name:"FooterSection"};const O=(0,W.c)(q,[["render",V]]);var R=O;const T={class:"modal-dialog modal-dialog-centered"},Z={class:"modal-content border-0 shadow-lg mx-auto",style:{width:"350px"}},G={class:"modal-body font-title"},J=(0,n.QD)("p",{class:"text-center fw-500"},[(0,n.mY)(" Get better user experience"),(0,n.QD)("br"),(0,n.mY)("with our brand new app. ")],-1),X={class:"d-flex justify-content-center"},tt={class:"btn-group w-100"};function et(t,e,s,a,o,i){return(0,n.Wz)(),(0,n.An)("div",{class:"modal fade show",style:(0,r.MN)("display:"+o.state),tabindex:"-1"},[(0,n.QD)("div",T,[(0,n.QD)("div",Z,[(0,n.QD)("div",G,[J,(0,n.QD)("div",X,[(0,n.QD)("div",tt,[(0,n.QD)("button",{class:"btn btn-sm btn-outline-secondary fw-500 px-2",onClick:e[0]||(e[0]=(...t)=>i.cancel&&i.cancel(...t))},"I'll stay on web"),(0,n.QD)("button",{class:"btn btn-sm px-3 btn-success fw-bold",onClick:e[1]||(e[1]=(...t)=>i.accept&&i.accept(...t))},"Yes, Install Now")])])])])])],4)}var st={name:"PwaInstallModal",data(){return{deferredPrompt:null,state:"block"}},created(){window.addEventListener("beforeinstallprompt",this.handleInstallPrompt)},unmounted(){window.removeEventListener("beforeinstallprompt",this.handleInstallPrompt)},methods:{handleInstallPrompt(t){t.preventDefault(),this.deferredPrompt=t,this.state="block"},accept(){this.deferredPrompt.prompt(),this.deferredPrompt.userChoice.then((t=>{"accepted"===t.outcome?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt"),this.deferredPrompt=null,this.state="none"}))},cancel(){this.state="none"}}};const nt=(0,W.c)(st,[["render",et]]);var at=nt;const ot={class:"modal-dialog modal-dialog-centered"},rt={class:"modal-content border-0 shadow-lg mx-auto",style:{width:"350px"}},it={class:"modal-body font-title"},lt=(0,n.QD)("p",{class:"text-center fw-500"}," Always stay updated with app notifications turned on. ",-1),ct={class:"d-flex justify-content-center"},dt={class:"btn-group w-100"};function ut(t,e,s,a,o,i){return(0,n.Wz)(),(0,n.An)("div",{class:"modal fade show",style:(0,r.MN)("display:"+o.state),tabindex:"-1"},[(0,n.QD)("div",ot,[(0,n.QD)("div",rt,[(0,n.QD)("div",it,[lt,(0,n.QD)("div",ct,[(0,n.QD)("div",dt,[(0,n.QD)("button",{class:"btn btn-sm btn-outline-secondary fw-500",onClick:e[0]||(e[0]=(...t)=>i.cancel&&i.cancel(...t))},"I'll check manually"),(0,n.QD)("button",{class:"btn btn-sm px-3 btn-success fw-bold",onClick:e[1]||(e[1]=(...t)=>i.accept&&i.accept(...t))},"Yes, send updates")])])])])])],4)}var bt=s(2964);bt.c.defaults.withCredentials=!0,bt.c.defaults.headers.post.Accept="application/json",bt.c.defaults.headers.post.ContentType="application/json";var ht={name:"NotificationPermissionModal",data(){return{state:"block"}},mounted(){const t=localStorage.getItem("notificationPermission");this.state="denied"===t||"accepted"===t?"none":"block"},methods:{cancel(){this.state="none",localStorage.setItem("notificationPermission","denied")},accept(){"serviceWorker"in navigator&&"PushManager"in window?navigator.serviceWorker.ready.then((t=>{const e={userVisibleOnly:!0,applicationServerKey:"BHZs-VmaHw-q81oM83ZfFkTb5jtkUCE7z0D8UNeifrDg4nshzW4e6qHfH0wnKhd_icViwN1-SrozVhEas3xa158"};return t.pushManager.subscribe(e)})).then((t=>{this.storePushSubscription(t)})).catch((t=>{console.error("Error subscribing for notifications:",t)})):console.warn("Push notifications are not supported in this browser.")},storePushSubscription(t){const e=t.toJSON(),{endpoint:s,keys:n}=e,a=(PushManager.supportedContentEncodings||["aesgcm"])[0];localStorage.setItem("p256dhKey",n.p256dh),localStorage.setItem("authKey",n.auth),localStorage.setItem("endpoint",s);const o=localStorage.getItem("token"),r={endpoint:s,AuthKeys:{auth:n.auth,p256dh:n.p256dh},contentEncoding:a},i={headers:{Authorization:`Bearer ${o}`}};bt.c.post("http://localhost:9000/api/subscribe",r,i).then((()=>{this.state="none",localStorage.setItem("notificationPermission","accepted")})).catch((t=>{console.error("error sending data",t)}))}}};const pt=(0,W.c)(ht,[["render",ut]]);var ft=pt,mt={name:"HomePage",components:{BrandBanner:M,Footer:R,PwaInstallModal:at,NotificationPermissionModal:ft},mounted(){window.addEventListener("resize",this.adjustHeight()),window.addEventListener("load",this.adjustHeight())},computed:{auth(){return this.$store.getters["authy/isAuthenticated"]}},methods:{adjustHeight(){let t=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${t}px`)},handleLocationFetched(t){console.log("Received user location:",t)}}};const gt=(0,W.c)(mt,[["render",o],["__scopeId","data-v-3e245007"]]);var wt=gt}}]);
//# sourceMappingURL=3820.766d8b1c.js.map