"use strict";(self["webpackChunkwsgbrand_app_v1"]=self["webpackChunkwsgbrand_app_v1"]||[]).push([[72],{9176:function(t,e,s){s.d(e,{c:function(){return f}});var a=s(4108),r=s(9096);const l={class:"list-group list-group-flush border-bottom py-5"},i={class:"list-group-item d-flex flex-column align-items-center"},o=(0,a.QD)("div",{class:"d-flex justify-content-center align-items-center rounded-circle border bg-light",style:{height:"60px",width:"60px"}},[(0,a.QD)("i",{class:"bi bi-funnel text-secondary fs-1",style:{opacity:"60%"}})],-1),n={class:"d-flex flex-fill flex-column px-3 mt-3"},c={class:"fw-bold font-title mb-0"};function d(t,e,s,d,p,u){return(0,a.Wz)(),(0,a.An)("div",l,[(0,a.QD)("div",i,[o,(0,a.QD)("div",n,[(0,a.QD)("p",c,(0,r.WA)(s.title),1)])])])}var p={name:"EmptyList",props:["title"]},u=s(4100);const g=(0,u.c)(p,[["render",d]]);var f=g},4032:function(t,e,s){s.d(e,{c:function(){return p}});var a=s(4108);const r={class:"d-flex justify-content-center align-items-center",style:{height:"100vh"}},l=(0,a.QD)("div",{class:"spinner-border text-primary",role:"status"},[(0,a.QD)("span",{class:"visually-hidden"},"Loading...")],-1),i=[l];function o(t,e,s,l,o,n){return(0,a.Wz)(),(0,a.An)("div",r,i)}var n={name:"PageLoading"},c=s(4100);const d=(0,c.c)(n,[["render",o]]);var p=d},2072:function(t,e,s){s.r(e),s.d(e,{default:function(){return Gt}});var a=s(4108),r=s(9096);const l={key:0,class:"w-100 overflow-hidden font-title"},i={key:0};function o(t,e,s,o,n,c){const d=(0,a.E1)("products-topbar"),p=(0,a.E1)("product-card"),u=(0,a.E1)("empty-list"),g=(0,a.E1)("page-loading");return c.products?((0,a.Wz)(),(0,a.An)("div",l,[(0,a.K2)(d,{title:`Products (${c.filteredProducts.length})`,filters:n.filters,parties:c.parties,options:c.options,ranges:c.ranges,onProductFilterUpdated:c.handleFilters},null,8,["title","filters","parties","options","ranges","onProductFilterUpdated"]),c.filteredProducts&&c.filteredProducts.length?((0,a.Wz)(),(0,a.An)("div",i,[(0,a.QD)("div",{class:(0,r.WN)(["row m-0",{"row-cols-2":1===n.filters.activeDesign,"row-cols-3":2===n.filters.activeDesign,"row-cols-1":3===n.filters.activeDesign}])},[((0,a.Wz)(!0),(0,a.An)(a.ae,null,(0,a.mi)(c.filteredProducts,((t,e)=>((0,a.Wz)(),(0,a.Az)(p,{product:t,activeDesign:n.filters.activeDesign,productIndex:e,key:e},null,8,["product","activeDesign","productIndex"])))),128))],2)])):((0,a.Wz)(),(0,a.Az)(u,{key:1,title:"No Products Available"}))])):((0,a.Wz)(),(0,a.Az)(g,{key:1}))}var n=s(4032);const c={class:"position-relative p-0 col"},d=["id"],p={class:"carousel-inner",style:{height:"250px","max-height":"250px","overflow-y":"hidden"}},u=["id"],g=["src"],f={key:0,class:"position-absolute top-0 start-0 m-2"},m={class:"d-flex flex-column opacity-50"},h={class:"fw-bolder text-uppercase"},v={class:"d-flex flex-nowrap mt-1",id:"scroll",style:{"overflow-x":"scroll","overflow-y":"hidden"}},b=["data-bs-target","data-bs-slide-to","aria-current"],y=["src"],D=["src"],A=(0,a.QD)("div",{class:"d-flex flex-column justify-content-center fw-bold h-45p text-dark w-100 align-items-center"}," No Color Options ",-1),x={class:"d-flex justify-content-between p-1 fw-bold"},W={class:"small"},k={class:"small"},Q={key:0},w={key:1,class:"text-danger"},z={class:"position-absolute top-0 end-0 m-1"},P={class:"d-flex flex-column"},_={key:1,class:"border-bottom"},F=["src"],O={key:0,class:"position-absolute bottom-0 start-0 end-0 m-1 opacity-75"},C={class:"d-flex justify-content-between"},R={key:0,class:"btn btn-dark rounded-circle shadow wh-20 lh-1 p-0"},S={class:"fw-bolder small text-uppercase"},I={key:1,class:"btn btn-dark rounded-0 shadow wh-20 lh-1 p-0"},E={class:"fw-bolder small text-uppercase"},B={class:"position-absolute top-0 end-0 m-1"},N={class:"d-flex flex-column"},j={key:2,class:""},L={class:"d-flex border-bottom align-items-center"},K=["src"],U={class:"flex-fill d-flex flex-column justify-content-center p-2"},q={class:"small fw-bold"},T={key:0},V={key:1,class:"text-danger"},$={class:"flex-fill pb-1"},M={class:"fw-500 max-line-1"},G={key:0},H={key:0,class:"d-flex flex-column justify-content-between"},J={key:0,class:"d-flex"},X=["src"],Y={key:1,class:"d-flex mt-1"},Z={class:"wh-20 smaller fw-bold lh-1 text-uppercase"},tt={key:1,class:"d-flex justify-content-between"},et={key:0,class:"d-flex"},st=["src"],at={key:1,class:"d-flex"},rt={class:"wh-30 smaller fw-bold lh-1 text-uppercase"},lt={key:1,class:"small"},it={class:"position-absolute top-0 end-0 m-1"},ot={class:"d-flex flex-column"};function nt(t,e,s,l,i,o){const n=(0,a.E1)("router-link");return(0,a.Wz)(),(0,a.An)("div",c,[1==s.activeDesign?((0,a.Wz)(),(0,a.An)("div",{key:0,class:(0,r.WN)(["border-bottom",{"border-end":s.productIndex%2===0}])},[s.product.options&&s.product.options.length?((0,a.Wz)(),(0,a.An)("div",{key:0,id:"productImages"+s.productIndex,class:"carousel slide"},[(0,a.QD)("div",p,[((0,a.Wz)(!0),(0,a.An)(a.ae,null,(0,a.mi)(s.product.options,((t,e)=>((0,a.Wz)(),(0,a.An)("div",{key:e,id:"cardCarousel"+e,class:(0,r.WN)(["carousel-item position-relative",{active:0===e}])},[(0,a.K2)(n,{to:{name:"BrandProductDetail",params:{product:s.product.slug}}},{default:(0,a.Ql)((()=>[(0,a.QD)("img",{src:t.preview,class:"of-cover w-100"},null,8,g),s.product.ranges&&s.product.ranges.length?((0,a.Wz)(),(0,a.An)("div",f,[(0,a.QD)("div",m,[((0,a.Wz)(!0),(0,a.An)(a.ae,null,(0,a.mi)(s.product.ranges,((t,e)=>((0,a.Wz)(),(0,a.An)("button",{key:e,type:"button",class:"btn btn-dark shadow wh-25 mb-1 p-0"},[(0,a.QD)("span",h,(0,r.WA)(t.abbr),1)])))),128))])])):(0,a.g1)("",!0)])),_:2},1032,["to"])],10,u)))),128))]),(0,a.QD)("div",v,[((0,a.Wz)(!0),(0,a.An)(a.ae,null,(0,a.mi)(s.product.options,((t,e)=>((0,a.Wz)(),(0,a.An)("button",{key:e,type:"button",class:(0,r.WN)(["rounded p-0 border me-1",{active:0===e}]),"data-bs-target":"#productImages"+s.productIndex,"data-bs-slide-to":e,"aria-current":0===e?"true":"false"},[(0,a.QD)("img",{src:t.image,class:"wh-40 of-cover",style:{scale:"1.6"}},null,8,y)],10,b)))),128))])],8,d)):((0,a.Wz)(),(0,a.Az)(n,{key:1,to:{name:"BrandProductDetail",params:{product:s.product.slug}},class:"td-none"},{default:(0,a.Ql)((()=>[(0,a.QD)("img",{src:s.product.image,class:"of-cover w-100",style:{height:"250px","max-height":"250px","overflow-y":"hidden"}},null,8,D),A])),_:1},8,["to"])),(0,a.K2)(n,{to:{name:"BrandProductDetail",params:{product:s.product.slug}},class:"td-none text-dark"},{default:(0,a.Ql)((()=>[(0,a.QD)("div",x,[(0,a.QD)("div",W,"#"+(0,r.WA)(s.product.code),1),(0,a.QD)("div",k,[s.product.stock?((0,a.Wz)(),(0,a.An)("span",Q,(0,r.WA)(s.product.stock.quantity)+" pcs",1)):((0,a.Wz)(),(0,a.An)("span",w,"empty"))])])])),_:1},8,["to"]),(0,a.QD)("div",z,[(0,a.QD)("div",P,[s.product.last_activity?((0,a.Wz)(),(0,a.An)("i",{key:0,class:(0,r.WN)(["bi bi-circle-fill px-1",{"text-danger":"Order"===s.product.last_activity,"text-success":"Ready"===s.product.last_activity,"text-primary":"Demand"===s.product.last_activity,"text-warning":"Dispatch"===s.product.last_activity}])},null,2)):(0,a.g1)("",!0)])])],2)):(0,a.g1)("",!0),2==s.activeDesign?((0,a.Wz)(),(0,a.An)("div",_,[(0,a.K2)(n,{to:{name:"BrandProductDetail",params:{product:s.product.slug}}},{default:(0,a.Ql)((()=>[(0,a.QD)("img",{src:s.product.image,class:"w-100 of-cover"},null,8,F),s.product.options&&s.product.options.length&&s.product.ranges&&s.product.ranges.length?((0,a.Wz)(),(0,a.An)("div",O,[(0,a.QD)("div",C,[s.product.options&&s.product.options.length?((0,a.Wz)(),(0,a.An)("div",R,[(0,a.QD)("span",S,(0,r.WA)(s.product.options.length),1)])):(0,a.g1)("",!0),s.product.ranges&&s.product.ranges.length?((0,a.Wz)(),(0,a.An)("div",I,[(0,a.QD)("span",E,(0,r.WA)(s.product.ranges.length),1)])):(0,a.g1)("",!0)])])):(0,a.g1)("",!0),(0,a.QD)("div",B,[(0,a.QD)("div",N,[s.product.last_activity?((0,a.Wz)(),(0,a.An)("i",{key:0,class:(0,r.WN)(["bi bi-circle-fill px-1",{"text-danger":"Order"===s.product.last_activity,"text-success":"Ready"===s.product.last_activity,"text-primary":"Demand"===s.product.last_activity,"text-warning":"Dispatch"===s.product.last_activity}])},null,2)):(0,a.g1)("",!0)])])])),_:1},8,["to"])])):(0,a.g1)("",!0),3==s.activeDesign?((0,a.Wz)(),(0,a.An)("div",j,[(0,a.K2)(n,{to:{name:"BrandProductDetail",params:{product:s.product.slug}},class:"td-none text-dark"},{default:(0,a.Ql)((()=>[(0,a.QD)("div",L,[(0,a.QD)("img",{src:s.product.image,class:"of-cover h-100p"},null,8,K),(0,a.QD)("div",U,[(0,a.QD)("div",q,[s.product.stock?((0,a.Wz)(),(0,a.An)("span",T,(0,r.WA)(s.product.stock.quantity)+" pcs",1)):((0,a.Wz)(),(0,a.An)("span",V,"empty"))]),(0,a.QD)("div",$,[(0,a.QD)("span",M,"#"+(0,r.WA)(s.product.code)+" | "+(0,r.WA)(s.product.name),1)]),s.product.options&&s.product.options.length&&s.product.ranges&&s.product.ranges.length?((0,a.Wz)(),(0,a.An)("div",G,[o.optionAndRangeCountMoreThan8?((0,a.Wz)(),(0,a.An)("div",H,[s.product.options&&s.product.options.length?((0,a.Wz)(),(0,a.An)("div",J,[((0,a.Wz)(!0),(0,a.An)(a.ae,null,(0,a.mi)(s.product.options,((t,e)=>((0,a.Wz)(),(0,a.An)("button",{key:e,type:"button",class:"p-0 border me-1 overflow-hidden"},[(0,a.QD)("img",{src:t.image,class:"wh-30 of-cover",style:{scale:"2"}},null,8,X)])))),128))])):(0,a.g1)("",!0),s.product.ranges&&s.product.ranges.length?((0,a.Wz)(),(0,a.An)("div",Y,[((0,a.Wz)(!0),(0,a.An)(a.ae,null,(0,a.mi)(s.product.ranges,((t,e)=>((0,a.Wz)(),(0,a.An)("button",{key:e,type:"button",class:"border me-1 overflow-hidden py-0"},[(0,a.QD)("span",Z,(0,r.WA)(t.abbr),1)])))),128))])):(0,a.g1)("",!0)])):((0,a.Wz)(),(0,a.An)("div",tt,[s.product.options&&s.product.options.length?((0,a.Wz)(),(0,a.An)("div",et,[((0,a.Wz)(!0),(0,a.An)(a.ae,null,(0,a.mi)(s.product.options,((t,e)=>((0,a.Wz)(),(0,a.An)("button",{key:e,type:"button",class:"p-0 border me-1 overflow-hidden"},[(0,a.QD)("img",{src:t.image,class:"wh-30 of-cover",style:{scale:"2"}},null,8,st)])))),128))])):(0,a.g1)("",!0),s.product.ranges&&s.product.ranges.length?((0,a.Wz)(),(0,a.An)("div",at,[((0,a.Wz)(!0),(0,a.An)(a.ae,null,(0,a.mi)(s.product.ranges,((t,e)=>((0,a.Wz)(),(0,a.An)("button",{key:e,type:"button",class:"border ms-1 overflow-hidden py-0"},[(0,a.QD)("span",rt,(0,r.WA)(t.abbr),1)])))),128))])):(0,a.g1)("",!0)]))])):((0,a.Wz)(),(0,a.An)("span",lt,"No Options Available"))])]),(0,a.QD)("div",it,[(0,a.QD)("div",ot,[s.product.last_activity?((0,a.Wz)(),(0,a.An)("i",{key:0,class:(0,r.WN)(["bi bi-circle-fill px-1",{"text-danger":"Order"===s.product.last_activity,"text-success":"Ready"===s.product.last_activity,"text-primary":"Demand"===s.product.last_activity,"text-warning":"Dispatch"===s.product.last_activity}])},null,2)):(0,a.g1)("",!0)])])])),_:1},8,["to"])])):(0,a.g1)("",!0)])}var ct={name:"ProductCard",props:{productIndex:{type:Number,default:0},product:{type:Object,required:!0},activeDesign:{type:Number,required:!0}},computed:{optionAndRangeCountMoreThan8(){return this.product.options.length+this.product.ranges.length>8}}},dt=s(4100);const pt=(0,dt.c)(ct,[["render",nt]]);var ut=pt,gt=s(7764);const ft={class:"border-bottom bg-body-tertiary"},mt={class:"navbar navbar-expand"},ht={class:"navbar-collapse d-flex align-items-center"},vt={class:"d-flex align-items-center"},bt=(0,a.QD)("i",{class:"bi bi-chevron-left"},null,-1),yt={class:"mb-0 ms-2"},Dt={class:"navbar-nav ms-auto align-items-center"},At=(0,a.IL)('<li class="nav-item"><button class="btn fs-5 border-0" data-bs-toggle="collapse" data-bs-target="#offcanvasSearch" aria-expanded="false" aria-controls="offcanvasSearch"><i class="bi bi-search"></i></button></li><li class="nav-item"><button class="btn fs-5 border-0" data-bs-toggle="collapse" data-bs-target="#offcanvasFilter" aria-expanded="false" aria-controls="offcanvasFilter"><i class="bi bi-funnel"></i></button></li>',2),xt={class:"nav-item"},Wt={key:0,class:"bi bi-sort-down-alt"},kt={key:1,class:"bi bi-sort-up"},Qt={class:"nav-item"},wt={key:0,class:"bi bi-grid-fill"},zt={key:1,class:"bi bi-grid-3x3-gap-fill"},Pt={key:2,class:"bi bi-list-ul"},_t={class:"collapse",id:"offcanvasSearch"},Ft={class:"form-floating mx-2 mb-2"},Ot=(0,a.QD)("label",{for:"floatingInput"},"Search by name or code",-1),Ct={class:"collapse",id:"offcanvasFilter"},Rt={class:"card card-body"},St=(0,a.QD)("option",{value:"",selected:"",disabled:""},"Filter By Fabricator",-1),It=["value"],Et=(0,a.QD)("option",{value:"",selected:"",disabled:""},"Filter By Color",-1),Bt=["value"],Nt=(0,a.QD)("option",{value:"",selected:"",disabled:""},"Filter By Size",-1),jt=["value"],Lt={class:"btn-group w-100"};function Kt(t,e,s,l,i,o){const n=(0,a.E1)("router-link");return(0,a.Wz)(),(0,a.An)("div",ft,[(0,a.QD)("nav",mt,[(0,a.QD)("div",ht,[(0,a.QD)("div",vt,[(0,a.K2)(n,{to:{name:"BrandDashboard"},class:"btn"},{default:(0,a.Ql)((()=>[bt])),_:1}),(0,a.QD)("h6",yt,(0,r.WA)(s.title),1)]),(0,a.QD)("ul",Dt,[At,(0,a.QD)("li",xt,[(0,a.QD)("button",{class:"btn fs-4 border-0",onClick:e[0]||(e[0]=(...t)=>o.toggleSortOrder&&o.toggleSortOrder(...t))},[i.sortAsc?((0,a.Wz)(),(0,a.An)("i",Wt)):((0,a.Wz)(),(0,a.An)("i",kt))])]),(0,a.QD)("li",Qt,[(0,a.QD)("button",{class:"btn fs-4 border-0",onClick:e[1]||(e[1]=(...t)=>o.toggleDesign&&o.toggleDesign(...t))},[1===i.activeDesign?((0,a.Wz)(),(0,a.An)("i",wt)):(0,a.g1)("",!0),2===i.activeDesign?((0,a.Wz)(),(0,a.An)("i",zt)):(0,a.g1)("",!0),3===i.activeDesign?((0,a.Wz)(),(0,a.An)("i",Pt)):(0,a.g1)("",!0)])])])])]),(0,a.QD)("div",_t,[(0,a.QD)("div",Ft,[(0,a.wt)((0,a.QD)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>i.search=t),type:"search",class:"form-control rounded-0",placeholder:"Search Stocks"},null,512),[[gt.Og,i.search]]),Ot])]),(0,a.QD)("div",Ct,[(0,a.QD)("div",Rt,[(0,a.wt)((0,a.QD)("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>i.selectedParty=t),class:"form-select py-3 mb-3","aria-label":"Filter By Party"},[St,((0,a.Wz)(!0),(0,a.An)(a.ae,null,(0,a.mi)(s.parties,((t,e)=>((0,a.Wz)(),(0,a.An)("option",{key:e,value:t},(0,r.WA)(t),9,It)))),128))],512),[[gt.Ip,i.selectedParty]]),(0,a.wt)((0,a.QD)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>i.selectedOption=t),class:"form-select py-3 mb-3","aria-label":"Filter By Color/Options"},[Et,((0,a.Wz)(!0),(0,a.An)(a.ae,null,(0,a.mi)(s.options,((t,e)=>((0,a.Wz)(),(0,a.An)("option",{key:e,value:t},(0,r.WA)(t),9,Bt)))),128))],512),[[gt.Ip,i.selectedOption]]),(0,a.wt)((0,a.QD)("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>i.selectedRange=t),class:"form-select py-3 mb-3","aria-label":"Filter By Size/Range"},[Nt,((0,a.Wz)(!0),(0,a.An)(a.ae,null,(0,a.mi)(s.ranges,((t,e)=>((0,a.Wz)(),(0,a.An)("option",{key:e,value:t},(0,r.WA)(t),9,jt)))),128))],512),[[gt.Ip,i.selectedRange]]),(0,a.QD)("div",Lt,[(0,a.QD)("button",{onClick:e[6]||(e[6]=(...t)=>o.resetFilters&&o.resetFilters(...t)),class:"btn btn-outline-dark"},"Reset"),(0,a.QD)("button",{onClick:e[7]||(e[7]=(...t)=>o.applyFilters&&o.applyFilters(...t)),class:"btn btn-dark"},"Apply")])])])])}var Ut={name:"ProductsTopbar",props:{title:{type:String,default:"Products"},filters:{type:Object,default:()=>{}},parties:{type:Array,default:()=>[]},options:{type:Array,default:()=>[]},ranges:{type:Array,default:()=>[]}},data(){return{activeDesign:1,sortAsc:!0,search:"",selectedParty:"",selectedOption:"",selectedRange:""}},mounted(){this.activeDesign=this.filters.activeDesign,this.sortAsc=this.filters.sortAsc,this.search=this.filters.search,this.selectedParty=this.filters.selectedParty,this.selectedOption=this.filters.selectedOption,this.selectedRange=this.filters.selectedRange},watch:{search(t,e){t!==e&&this.emitFilters()}},methods:{toggleDesign(){1===this.activeDesign?this.activeDesign=2:2===this.activeDesign?this.activeDesign=3:this.activeDesign=1,this.emitFilters()},toggleSortOrder(){this.sortAsc=!this.sortAsc,this.emitFilters()},applyFilters(){this.emitFilters()},resetFilters(){this.search="",this.selectedParty="",this.selectedOption="",this.selectedRange="",this.emitFilters()},emitFilters(){this.$emit("product-filter-updated",{search:this.search,sortAsc:this.sortAsc,activeDesign:this.activeDesign,selectedParty:this.selectedParty,selectedOption:this.selectedOption,selectedRange:this.selectedRange})}}};const qt=(0,dt.c)(Ut,[["render",Kt]]);var Tt=qt,Vt=s(9176),$t={name:"ProductsPage",components:{EmptyList:Vt.c,PageLoading:n.c,ProductCard:ut,ProductsTopbar:Tt},data(){return{filters:{activeDesign:1,sortAsc:!0,search:"",selectedParty:"",selectedOption:"",selectedRange:""}}},created(){this.$store.dispatch("brandy/fetchProducts")},computed:{products(){return this.$store.getters["brandy/products"].data},parties(){const t=this.products,e=new Set;return t&&t.forEach((t=>{const s=t.assigned_parties||[];s.forEach((t=>{t.name&&e.add(t.name)}))})),Array.from(e)},options(){const t=this.products,e=new Set;return t&&t.forEach((t=>{const s=t.options||[];s.forEach((t=>{t.name&&e.add(t.name)}))})),Array.from(e)},ranges(){const t=this.products,e=new Set;return t&&t.forEach((t=>{const s=t.ranges||[];s.forEach((t=>{t.name&&e.add(t.name)}))})),Array.from(e)},filteredProducts(){let t=this.products;if(this.filters.search){const e=this.filters.search.toLowerCase();t=t.filter((t=>t.tags&&"string"===typeof t.tags&&t.tags.toLowerCase().includes(e)))}return this.filters.sortAsc?t.sort(((t,e)=>t.code.localeCompare(e.code))):t.sort(((t,e)=>e.code.localeCompare(t.code))),this.filters.selectedParty&&(t=t.filter((t=>{const e=t.assigned_parties||[];return e.some((t=>t.name===this.filters.selectedParty))}))),this.filters.selectedOption&&(t=t.filter((t=>{const e=t.options||[];return e.some((t=>t.name===this.filters.selectedOption))}))),this.filters.selectedRange&&(t=t.filter((t=>{const e=t.ranges||[];return e.some((t=>t.name===this.filters.selectedRange))}))),t}},methods:{handleFilters(t){this.filters=t},sortByStock(t){this.sortOrder=t,this.filteredStocks.sort(((e,s)=>{const a=parseInt(e.stock),r=parseInt(s.stock);return"asc"===t?a-r:"desc"===t?r-a:0}))}}};const Mt=(0,dt.c)($t,[["render",o]]);var Gt=Mt}}]);
//# sourceMappingURL=72.588b1d48.js.map