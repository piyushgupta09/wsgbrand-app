"use strict";(self["webpackChunkwsgbrand_app_v1"]=self["webpackChunkwsgbrand_app_v1"]||[]).push([[228],{4032:function(e,t,s){s.d(t,{c:function(){return u}});var l=s(4108);const a={class:"d-flex justify-content-center align-items-center",style:{height:"100vh"}},n=(0,l.QD)("div",{class:"spinner-border text-primary",role:"status"},[(0,l.QD)("span",{class:"visually-hidden"},"Loading...")],-1),d=[n];function c(e,t,s,n,c,o){return(0,l.Wz)(),(0,l.An)("div",a,d)}var o={name:"PageLoading"},r=s(4100);const i=(0,r.c)(o,[["render",c]]);var u=i},5228:function(e,t,s){s.r(t),s.d(t,{default:function(){return $e}});var l=s(4108),a=s(9096);const n=e=>((0,l.ED)("data-v-ddb67d7e"),e=e(),(0,l.ii)(),e),d={key:0,class:"border-bottom font-title"},c={class:"card rounded-0 border-0 d-flex"},o={class:"flex-fill d-flex"},r=["src","data-bs-url"],i={class:"flex-fill d-flex flex-column justify-content-evenly p-2","data-bs-toggle":"collapse","data-bs-target":"#productDetailModal","aria-expanded":"false","aria-controls":"productDetailModal"},u={class:"fw-bold max-line-1"},p={class:"d-flex justify-content-between align-items-center"},g={class:"d-flex align-items-end gap-1 small"},m=n((()=>(0,l.QD)("span",{class:"fw-500 smaller"},"Stock:",-1))),f={key:0},b=n((()=>(0,l.QD)("span",{class:"smaller"},"pcs",-1))),D={key:1,class:"fw-bold small text-danger"},Q={class:"d-flex align-items-end gap-1 small"},y=n((()=>(0,l.QD)("span",{class:"fw-500 smaller"},"Incoming:",-1))),x={key:0},v=n((()=>(0,l.QD)("span",{class:"smaller"},"pcs",-1))),k={key:1,class:"fw-bold small text-danger"},w={class:"d-flex justify-content-between align-items-center"},h={class:"d-flex align-items-end gap-1 small"},W=n((()=>(0,l.QD)("span",{class:"fw-500 smaller"},"Re-Order:",-1))),A={key:0},z=n((()=>(0,l.QD)("span",{class:"smaller"},"pcs",-1))),q={key:1,class:"fw-bold small text-danger"},_={class:"d-flex align-items-end gap-1 small"},j=n((()=>(0,l.QD)("span",{class:"fw-500 smaller"},"Outgoing:",-1))),Y={key:0},P=n((()=>(0,l.QD)("span",{class:"smaller"},"pcs",-1))),M={key:1,class:"fw-bold small text-danger"},S={class:"d-flex flex-column"},I=n((()=>(0,l.QD)("div",{class:"d-flex flex-column justify-content-center h-100"},[(0,l.QD)("div",{class:"rounded-circle wh-30 shadow d-flex flex-column justify-content-center"},[(0,l.QD)("i",{class:"bi bi-x-lg text-danger"})])],-1))),$=n((()=>(0,l.QD)("button",{class:"btn flex-fill border-0","data-bs-toggle":"collapse","data-bs-target":"#productDetailModal","aria-expanded":"false","aria-controls":"productDetailModal"},[(0,l.QD)("div",{class:"d-flex flex-column justify-content-center h-100"},[(0,l.QD)("div",{class:"rounded-circle wh-30 shadow-inset d-flex flex-column justify-content-center"},[(0,l.QD)("i",{class:"bi bi-chevron-down"})])])],-1))),L={class:"collapse",id:"productDetailModal"},T={class:"d-flex align-items-center justify-content-between text-bg-dark ps-1"},N={class:"p-1 fw-bold"},B={class:"table-responsive"},E={class:"overflow-x-scroll bg-white"},O={class:"table table-responsive table-striped table-hover"},C=n((()=>(0,l.QD)("th",{class:"text-center small"},"SKU",-1))),F=n((()=>(0,l.QD)("th",{class:"text-center smallest"},[(0,l.mY)("Color"),(0,l.QD)("br"),(0,l.mY)("Total")],-1))),K={class:"p-0 table-secondary text-center"},R=["src","data-bs-url"],U={class:"d-flex flex-column justify-content-center align-items-end"},G={class:"table-secondary text-end pe-3"},H={class:"table-dark"},J=n((()=>(0,l.QD)("th",{class:"text-center smallest"},[(0,l.mY)("Size"),(0,l.QD)("br"),(0,l.mY)("Total")],-1))),V={class:"text-end fw-bold"},X=n((()=>(0,l.QD)("div",{class:"modal fade",id:"productImageModal",tabindex:"-1","aria-hidden":"true"},[(0,l.QD)("div",{class:"modal-dialog modal-fullscreen"},[(0,l.QD)("button",{type:"button",class:"btn h-100 w-100 p-0","data-bs-dismiss":"modal","aria-label":"Close"},[(0,l.QD)("img",{src:"https://placehold.co/400",class:"w-100",style:{"object-fit":"cover"}})])])],-1))),Z={class:"d-flex align-items-center justify-content-between text-bg-dark ps-1"},ee=n((()=>(0,l.QD)("span",{class:"p-1 fw-bold"},"Product Order Ledgers",-1))),te=n((()=>(0,l.QD)("i",{class:"bi bi-chevron-right"},null,-1))),se={key:0,class:"list-group"},le=["src"],ae={class:"ms-2 d-flex flex-column justify-content-between w-100"},ne={class:"fw-medium"},de={class:"d-flex justify-content-between align-items-center"},ce={class:"d-flex align-items-end gap-1"},oe=n((()=>(0,l.QD)("span",{class:"fw-500 smaller"},"Ready:",-1))),re={key:0},ie=n((()=>(0,l.QD)("span",{class:"smaller"},"pcs",-1))),ue={key:1,class:"fw-bold text-danger"},pe={class:"d-flex align-items-end gap-1"},ge=n((()=>(0,l.QD)("span",{class:"fw-500 smaller"},"Demand:",-1))),me={key:0},fe=n((()=>(0,l.QD)("span",{class:"smaller"},"pcs",-1))),be={key:1,class:"fw-bold text-danger"},De={class:"d-flex justify-content-between align-items-center"},Qe={class:"d-flex align-items-end gap-1"},ye=n((()=>(0,l.QD)("span",{class:"fw-500 smaller"},"Dispached:",-1))),xe={key:0},ve=n((()=>(0,l.QD)("span",{class:"smaller"},"pcs",-1))),ke={key:1,class:"fw-bold text-danger"},we={class:"d-flex align-items-end gap-1"},he=n((()=>(0,l.QD)("span",{class:"fw-500 smaller"},"Balance:",-1))),We={key:0},Ae=n((()=>(0,l.QD)("span",{class:"smaller"},"pcs",-1))),ze={key:1,class:"fw-bold text-danger"},qe={key:1,class:"text-center py-3"},_e=n((()=>(0,l.QD)("span",{class:"fw-bold"},"No ledger found",-1))),je=[_e];function Ye(e,t,s,n,_e,Ye){const Pe=(0,l.E1)("router-link"),Me=(0,l.E1)("page-loading");return Ye.product?((0,l.Wz)(),(0,l.An)("div",d,[(0,l.QD)("div",c,[(0,l.QD)("div",o,[(0,l.QD)("img",{src:Ye.product.image,class:"of-cover h-70p","data-bs-toggle":"modal","data-bs-target":"#productImageModal","data-bs-url":Ye.product.preview},null,8,r),(0,l.QD)("div",i,[(0,l.QD)("div",u,"#"+(0,a.WA)(Ye.product.code)+" | "+(0,a.WA)(Ye.product.name),1),(0,l.QD)("div",p,[(0,l.QD)("div",g,[m,Ye.product&&Ye.product.stock&&Ye.product.stock.quantity?((0,l.Wz)(),(0,l.An)("div",f,[(0,l.QD)("strong",null,(0,a.WA)(Ye.product.stock.quantity),1),(0,l.mY)(),b])):((0,l.Wz)(),(0,l.An)("span",D,"Nil"))]),(0,l.QD)("div",Q,[y,Ye.product&&Ye.product.stock&&Ye.product.stock.incoming?((0,l.Wz)(),(0,l.An)("div",x,[(0,l.QD)("strong",null,(0,a.WA)(Ye.product.stock.incoming),1),(0,l.mY)(),v])):((0,l.Wz)(),(0,l.An)("span",k,"Nil"))])]),(0,l.QD)("div",w,[(0,l.QD)("div",h,[W,Ye.product&&Ye.product.stock&&Ye.product.stock.roq?((0,l.Wz)(),(0,l.An)("div",A,[(0,l.QD)("strong",null,(0,a.WA)(Ye.product.stock.roq),1),(0,l.mY)(),z])):((0,l.Wz)(),(0,l.An)("span",q,"Nil"))]),(0,l.QD)("div",_,[j,Ye.product&&Ye.product.stock&&Ye.product.stock.outgoing?((0,l.Wz)(),(0,l.An)("div",Y,[(0,l.QD)("strong",null,(0,a.WA)(Ye.product.stock.outgoing),1),(0,l.mY)(),P])):((0,l.Wz)(),(0,l.An)("span",M,"Nil"))])])]),(0,l.QD)("div",S,[(0,l.K2)(Pe,{class:"btn flex-fill border-0",to:{name:"BrandProducts"}},{default:(0,l.Ql)((()=>[I])),_:1}),$])])]),(0,l.QD)("div",L,[(0,l.QD)("div",T,[(0,l.QD)("span",N,(0,a.WA)(Ye.product.name),1)]),(0,l.QD)("div",B,[(0,l.QD)("div",E,[(0,l.QD)("table",O,[(0,l.QD)("thead",null,[(0,l.QD)("tr",null,[C,((0,l.Wz)(!0),(0,l.An)(l.ae,null,(0,l.mi)(Ye.product.ranges,((e,t)=>((0,l.Wz)(),(0,l.An)("th",{scope:"col",class:"small text-nowrap text-uppercase text-end",key:t},(0,a.WA)(e.abbr),1)))),128)),F])]),(0,l.QD)("tbody",null,[((0,l.Wz)(!0),(0,l.An)(l.ae,null,(0,l.mi)(Ye.product.options,((e,t)=>((0,l.Wz)(),(0,l.An)("tr",{key:t},[(0,l.QD)("th",K,[(0,l.QD)("img",{src:e.image,class:"of-cover w-35p","data-bs-toggle":"modal","data-bs-target":"#productImageModal","data-bs-url":e.preview},null,8,R)]),((0,l.Wz)(!0),(0,l.An)(l.ae,null,(0,l.mi)(Ye.product.ranges,((t,s)=>((0,l.Wz)(),(0,l.An)("td",{key:s},[(0,l.QD)("div",U,(0,a.WA)(Ye.getStock(e.sid,t.sid)),1)])))),128)),(0,l.QD)("td",G,[(0,l.QD)("span",null,(0,a.WA)(Math.round(Ye.getTotalForOption(e.sid)).toLocaleString("en-IN")),1)])])))),128)),(0,l.QD)("tr",H,[J,((0,l.Wz)(!0),(0,l.An)(l.ae,null,(0,l.mi)(Ye.product.ranges,((e,t)=>((0,l.Wz)(),(0,l.An)("td",{class:"text-end fw-bold",key:t},(0,a.WA)(Ye.getTotalForRange(e.sid)),1)))),128)),(0,l.QD)("td",V,(0,a.WA)(Ye.product.stockitems.reduce(((e,t)=>e+t.quantity),0)),1)])])])])])]),X,(0,l.QD)("div",Z,[ee,(0,l.K2)(Pe,{to:{name:"BrandParties"},class:"btn btn-secondary rounded-0 fw-bold px-3"},{default:(0,l.Ql)((()=>[te])),_:1})]),Ye.product.ledgers&&Ye.product.ledgers.length?((0,l.Wz)(),(0,l.An)("ul",se,[((0,l.Wz)(!0),(0,l.An)(l.ae,null,(0,l.mi)(Ye.product.ledgers,((e,t)=>((0,l.Wz)(),(0,l.An)("li",{key:t,class:"list-group-item px-2"},[(0,l.K2)(Pe,{to:{name:"BrandProductLedger",params:{ledger:e.sid}},class:"text-dark td-none d-flex"},{default:(0,l.Ql)((()=>[(0,l.QD)("img",{src:e.party.image,class:"of-cover wh-60p"},null,8,le),(0,l.QD)("div",ae,[(0,l.QD)("span",ne,(0,a.WA)(e.party.business),1),(0,l.QD)("div",de,[(0,l.QD)("div",ce,[oe,e.demandable_qty?((0,l.Wz)(),(0,l.An)("div",re,[(0,l.QD)("strong",null,(0,a.WA)(e.demandable_qty),1),(0,l.mY)(),ie])):((0,l.Wz)(),(0,l.An)("span",ue,"0 pc"))]),(0,l.QD)("div",pe,[ge,e.dispatchable_qty?((0,l.Wz)(),(0,l.An)("div",me,[(0,l.QD)("strong",null,(0,a.WA)(e.dispatchable_qty),1),(0,l.mY)(),fe])):((0,l.Wz)(),(0,l.An)("span",be,"0 pc"))])]),(0,l.QD)("div",De,[(0,l.QD)("div",Qe,[ye,e.stockable_qty?((0,l.Wz)(),(0,l.An)("div",xe,[(0,l.QD)("strong",null,(0,a.WA)(e.stockable_qty),1),(0,l.mY)(),ve])):((0,l.Wz)(),(0,l.An)("span",ke,"0 pc"))]),(0,l.QD)("div",we,[he,e.balance_qty?((0,l.Wz)(),(0,l.An)("div",We,[(0,l.QD)("strong",null,(0,a.WA)(e.balance_qty),1),(0,l.mY)(),Ae])):((0,l.Wz)(),(0,l.An)("span",ze,"0 pc"))])])])])),_:2},1032,["to"])])))),128))])):((0,l.Wz)(),(0,l.An)("div",qe,je))])):((0,l.Wz)(),(0,l.Az)(Me,{key:1}))}var Pe=s(4032),Me={name:"ProductDetailPage",components:{PageLoading:Pe.c},computed:{product(){return this.$store.getters["brandy/product"]}},mounted(){this.$store.dispatch("brandy/fetchProductDetails",this.$route.params.product);const e=document.getElementById("productImageModal");e&&e.addEventListener("show.bs.modal",(t=>{const s=t.relatedTarget,l=s.getAttribute("data-bs-url"),a=e.querySelector(".modal-dialog img");a.src=l}))},methods:{toggleProductStatus(){this.$store.dispatch("brandy/toggleProductStatus",{qtype:"toggle",product:this.product.slug})},getStock(e,t){return this.product.stockitems.filter((s=>s.key===`${e}-${t}`))[0]?.quantity??0},getTotalForRange(e){return this.product.stockitems.reduce(((t,s)=>s.key.endsWith(`-${e}`)?t+s.quantity:t),0)},getTotalForOption(e){return this.product.stockitems.reduce(((t,s)=>s.key.startsWith(`${e}-`)?t+s.quantity:t),0)}}},Se=s(4100);const Ie=(0,Se.c)(Me,[["render",Ye],["__scopeId","data-v-ddb67d7e"]]);var $e=Ie}}]);
//# sourceMappingURL=228.2b81314e.js.map